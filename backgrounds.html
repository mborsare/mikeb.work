<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>Mike Borsare</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    :root {
      --bg: #000000;
      --text: #c0c0c0;
      --stamp: #888888;
      --seal: #eaffea;

      --btn-fill: color-mix(in hsl, var(--bg), var(--seal) 20%);
      --btn-text: #ffffff;
    }

    html {
      font-size: 14px;
    }

    @font-face {
      font-family: 'ComicMono';
      src: url('/fonts/ComicMono-Regular.woff') format('woff');
      font-weight: 400;
      font-style: normal;
      font-display: swap;
    }

    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow-y: auto;
      background: var(--bg);
      color: var(--text);
      font-family: 'ComicMono', monospace;
      font-size: 1rem;
    }

    .container {
      min-width: 20rem;
      max-width: 60rem;
      width: 100%;
      padding: clamp(0.75rem, 2vw, 1.25rem);
      margin: auto 0;
      text-align: center;
      white-space: pre-line;
      line-height: 1.5;
    }

    h1 {
      color: var(--bg);
    }

    .ascii {
      white-space: pre;
      line-height: 1.1;
      color: var(--seal);
    }

    #clock {
      color: var(--seal);
      opacity: 0.45;
      filter: blur(0.25px);
      display: inline-block;
    }

    /* ---- BACKGROUND BROWSER ---- */

    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(14rem, 1fr));
      gap: 1rem;
      margin: 2rem 0;
    }

    .card {
      border: 1px solid #222;
      padding: 0.5rem;
      background: #000;
      text-align: left;
    }

    .card img {
      width: 100%;
      height: auto;
      display: block;
      cursor: zoom-in;
    }

    .meta {
      margin-top: 0.5rem;
      font-size: 0.75rem;
      color: var(--stamp);
      word-break: break-all;
    }

    .card.expanded {
      grid-column: 1 / -1;
    }

    .card.expanded img {
      max-height: 80vh;
      object-fit: contain;
      cursor: zoom-out;
    }
  </style>
</head>

<body>
  <div class="container">
    <h1 style="font-size:0.275rem;">Mike Borsare</h1>
    <time id="clock"></time>

    <div style="padding:1rem;">
      <nav>
        <a href="index.html" class="ascii">back</a>
      </nav>

      <pre class="ascii" style="font-size:0.5rem;">
            ▄         ▄▄▄▄▄   ▄█   ▄▀     ▄   ▄███▄   ██▄       █▀▄▀█ ▄█ █  █▀ ▄███▄   
        ▀▄   █       █     ▀▄ ██ ▄▀        █  █▀   ▀  █  █      █ █ █ ██ █▄█   █▀   ▀  
          █ ▀      ▄  ▀▀▀▀▄   ██ █ ▀▄  ██   █ ██▄▄    █   █     █ ▄ █ ██ █▀▄   ██▄▄    
         ▄ █        ▀▄▄▄▄▀    ▐█ █   █ █ █  █ █▄   ▄▀ █  █      █   █ ▐█ █  █  █▄   ▄▀ 
        █   ▀▄                 ▐  ███  █  █ █ ▀███▀   ███▀         █   ▐   █   ▀███▀   
      ▀                             █   ██                     ▀       ▀
      </pre>

      <a href="mailto:mb@mikeb.work" style="color: var(--seal);">mb@mikeb.work</a>
    </div>

    <main>
      <section class="gallery" id="gallery"></section>
    </main>

    <pre class="ascii" style="font-size:0.4rem;">
      ██▓███   ██▀███   ██▓ ███▄ ▄███▓▓█████ 
      ▓██░  ██▒▓██ ▒ ██▒▓██▒▓██▒▀█▀ ██▒▓█   ▀ 
      ▓██░ ██▓▒▓██ ░▄█ ▒▒██▒▓██    ▓██░▒███   
      ▒██▄█▓▒ ▒▒██▀▀█▄  ░██░▒██    ▒██ ▒▓█  ▄ 
      ▒██▒ ░  ░░██▓ ▒██▒░██░▒██▒   ░██▒░▒████▒
      ▒▓▒░ ░  ░░ ▒▓ ░▒▓░░▓  ░ ▒░   ░  ░░░ ▒░ ░
      ░▒ ░       ░▒ ░ ▒░ ▒ ░░  ░      ░ ░ ░  ░
      ░░         ░░   ░  ▒ ░░      ░      ░   
                  ░      ░         ░      ░  ░
    </pre>

    <div>
      <a href="https://hotlinewebring.club/mikeb/previous" style="color: var(--seal); font-size: 0.8rem;">
        &lt; Previous</a>
      <span style="color: var(--seal); padding: 0 2em;">Proud member of Hotline Webring</span>
      <a href="https://hotlinewebring.club/mikeb/next" style="color: var(--seal); font-size: 0.8rem;">Next &gt;</a>
    </div>
  </div>

  <script>
    // ---- Clock + pulse ----
    (() => {
      const clock = document.getElementById('clock');
      let t = 0;

      function updateClock() {
        const now = new Date();
        const days = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];
        const months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];

        clock.textContent =
          `${days[now.getDay()]} ${months[now.getMonth()]} ${now.getDate()} ` +
          `${String(now.getHours()).padStart(2,'0')}:` +
          `${String(now.getMinutes()).padStart(2,'0')}:` +
          `${String(now.getSeconds()).padStart(2,'0')}:` +
          `${String(now.getMilliseconds()).padStart(3,'0')}`;
      }

      function pulse() {
        t += 0.02;
        clock.style.opacity = 0.35 + (Math.sin(t) + 1) * 0.15;
        requestAnimationFrame(pulse);
      }

      updateClock();
      setInterval(updateClock, 50);
      pulse();
    })();

    // ---- Background directory crawl ----
    (async () => {
      const gallery = document.getElementById('gallery');

      const res = await fetch('./backoffice/backgrounds/');
      const html = await res.text();

      const doc = new DOMParser().parseFromString(html, 'text/html');

      const files = Array.from(doc.querySelectorAll('a'))
        .map(a => a.getAttribute('href'))
        .filter(href =>
          href &&
          !href.startsWith('?') &&
          /\.(png|jpg|jpeg|webp|gif)$/i.test(href)
        );

      files.forEach(file => {
        const card = document.createElement('div');
        card.className = 'card';

        const img = document.createElement('img');
        img.src = `./backoffice/backgrounds/${file}`;
        img.loading = 'lazy';

        const meta = document.createElement('div');
        meta.className = 'meta';
        meta.textContent = file;

        img.addEventListener('click', () => {
          card.classList.toggle('expanded');
        });

        card.appendChild(img);
        card.appendChild(meta);
        gallery.appendChild(card);
      });
    })();
  </script>
</body>

</html>
